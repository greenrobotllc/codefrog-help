# Apache .htaccess for local development
# Redirects legacy PHP help URLs to new Jekyll structure
# This file is for local Apache development only
# GitHub Pages uses jekyll-redirect-from plugin instead

RewriteEngine On

# Redirect flavor query parameter to path
# /help/shortcuts.php?flavor=mas -> /help/mas/shortcuts
RewriteCond %{QUERY_STRING} (^|&)flavor=([^&]+) [NC]
RewriteRule ^help/([^.]+)\.php$ /help/%2/$1? [R=301,L,QSD]

# Redirect PHP files without flavor to mas (default)
# /help/shortcuts.php -> /help/mas/shortcuts
RewriteCond %{THE_REQUEST} \s/+help/([^. ]+)\.php [NC]
RewriteRule ^ /help/mas/%1 [R=301,L]

# Redirect index.php to help index
RewriteRule ^help/index\.php$ /help/ [R=301,L]

